<% similarity ||= nil %>
<%= tag.div class: "submission-sample", data: submission_file_data_attributes(submission_file) do %>
  <% if submission_file.original.analyzed? && submission_file.sample&.attached? %>
    <div class="file-container">
      <% if submission_file.sample.content_type.in? %w[image/jpeg image/gif] %>
        <%= image_tag url_for(submission_file.sample), loading: "lazy", class: "submission-file" %>
        <%= original_file_tag(submission_file) %>
      <% else %>
        Unhandled content_type <%= submission_file.sample.content_type %>
      <% end %>
    </div>
  <% else %>
    Sample not generated
  <% end %>
  <%= render "submission_files/stats", submission_file: submission_file, similarity: similarity %>
<% end %>
